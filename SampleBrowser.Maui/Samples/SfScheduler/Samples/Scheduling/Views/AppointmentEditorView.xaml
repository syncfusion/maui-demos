<StackLayout xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SampleBrowser.Maui.SfScheduler.AppointmentEditorView"
             xmlns:local="clr-namespace:SampleBrowser.Maui.SfScheduler"
             HorizontalOptions="FillAndExpand"
             VerticalOptions="FillAndExpand"
             Orientation="Vertical" 
             Background="white"
             IsVisible="False">
    <StackLayout.BindingContext>
        <local:SchedulerDataBindingViewModel/>
    </StackLayout.BindingContext>

    <Grid>
        <StackLayout HeightRequest="1" BackgroundColor="LightGray"/>
        <StackLayout x:Name="EditorView">
            <Grid x:Name="HeaderGrid" HeightRequest="50" Padding="10,10,10,0"
        VerticalOptions="Start">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition />
                    <ColumnDefinition />
                    <ColumnDefinition />
                    <ColumnDefinition />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Button x:Name="CancelButton" ImageSource="{OnPlatform iOS=close.png,macOS=close.png}" FontFamily="{OnPlatform Android=SchedulerIcons}" Text="{OnPlatform Android=&#xe701;}" TextColor="{OnPlatform Android=#1E1180}" BackgroundColor="White" FontSize="20" HorizontalOptions="Start" VerticalOptions="Center" />
                <Button x:Name="DeleteButton" ImageSource="{OnPlatform iOS=delete.png,macOS=delete.png}" FontFamily="{OnPlatform Android=SchedulerIcons}" Text="{OnPlatform Android=&#xe706;}" TextColor="{OnPlatform Android=#1E1180}"  BackgroundColor="White" FontSize="20" GridLayout.Column="4" Margin="0,0,5,0" HorizontalOptions="End" VerticalOptions="Center" IsVisible="false"/>
                <Button x:Name="SaveButton"   ImageSource="{OnPlatform iOS=tick.png,macOS=tick.png}" FontFamily="{OnPlatform Android=SchedulerIcons}" Text="{OnPlatform Android=&#xe700;}" TextColor="{OnPlatform Android=#1E1180}"  BackgroundColor="White" FontSize="20" GridLayout.Column="5" HorizontalOptions="End" Margin="5,0,0,0" VerticalOptions="Center" />
            </Grid>

            <Grid  VerticalOptions="Start">
                <StackLayout x:Name="BasicEditorLayout">
                    <Grid 
                        HeightRequest="50"
                        Padding="0,5,0,0"
                        VerticalOptions="Start">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="60"/>
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <Entry  x:Name="SubjectText"
                                GridLayout.Column="1"
                                Background="Transparent" 
                                VerticalTextAlignment="Center"
                                TextColor="Black"
                                FontSize="20" />
                    </Grid>

                    <StackLayout HeightRequest="1" Margin="0,2,0,2" BackgroundColor="LightGray"/>

                    <Grid x:Name="AllDayGrid"
                          HeightRequest="40"
                          VerticalOptions="Start" 
                          Padding="0,4,10,0" >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="60"/>
                            <ColumnDefinition />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <Image IsVisible="{OnPlatform Android=false,iOS=true,macOS=true}" Source="" HeightRequest="20" WidthRequest="20" Margin="10,0,0,0" HorizontalOptions="Start" VerticalOptions="Center" />
                        <Label IsVisible="{OnPlatform Android=true, iOS=false,macOS=false}"  FontFamily="SchedulerIcons" Text="&#xe704;" TextColor="Black" FontSize="20" HeightRequest="20" WidthRequest="20" Margin="10,0,0,0" HorizontalOptions="Start" VerticalOptions="Center" />
                        <Label x:Name="AllDayLabel"
                               Text="All-day" 
                               GridLayout.Column="1"
                               VerticalTextAlignment="Center"
                               Background="Transparent"
                               TextColor="Black"
                               FontSize="15"/>
                        <CheckBox 
                                x:Name="SwitchAllDay" 
                                GridLayout.Column="2" 
                                Margin="30,0,0,0"
                                Color="#1E1180"
                                BackgroundColor="{x:DynamicResource PrimaryTextColor}"
                                HorizontalOptions="{OnPlatform Android=End, iOS=Center}"
                                VerticalOptions="Center" 
                                IsChecked="False"/>
                    </Grid>

                    <Grid x:Name="StartDateTimePickerGrid"
                          Padding="0,6,10,0"
                          VerticalOptions="Start">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="60"/>
                            <ColumnDefinition />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <DatePicker x:Name="StartDatePicker" TextColor="Black" Format="ddd, MMM d yyyy" Background="Transparent" FontSize="15"  GridLayout.Column="1" HeightRequest="40" />
                        <TimePicker x:Name="StartTimePicker" TextColor="Black" Margin="0,0,15,0" Background="Transparent" FontSize="15" HorizontalOptions="End" GridLayout.Column="2" HeightRequest="40" />
                    </Grid>

                    <Grid x:Name="EndDateTimePickerGrid"
                          Padding="0,6,10,0"
                          VerticalOptions="Start">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="60"/>
                            <ColumnDefinition />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <DatePicker
                            x:Name="EndDatePicker"
                            GridLayout.Column="1"
                            Format="ddd, MMM d yyyy"
                            FontSize="15"
                            Background="Transparent"
                            TextColor="Black"
                            HeightRequest="40"
                            VerticalOptions="Start" />
                        <TimePicker
                            x:Name="EndTimePicker" 
                            GridLayout.Column="2"
                            Background="Transparent"
                            TextColor="Black"
                            FontSize="15"
                            HorizontalOptions="End"
                            Margin="0,0,15,0"
                            HeightRequest="40"
                            VerticalOptions="Start" />
                    </Grid>

                    <Grid x:Name="TimeZoneGrid"
                          BackgroundColor="White"
                          Padding="0,6,20,0"
                          HeightRequest="40"
                          HorizontalOptions="FillAndExpand"
                          VerticalOptions="Start">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="60"/>
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <Image IsVisible="{OnPlatform Android=false, iOS=true,macOS=true}" Source=""  HeightRequest="20" WidthRequest="20" Margin="10,0,0,0" HorizontalOptions="Start" VerticalOptions="Center" />
                        <Label IsVisible="{OnPlatform Android=true, iOS=false,macOS=false}" FontFamily="SchedulerIcons"  Text="&#xe703;" TextColor="Black" FontSize="20" HeightRequest="20" WidthRequest="20" Margin="10,0,0,0" HorizontalOptions="Start" VerticalOptions="Center" />
                        <Picker x:Name="TimeZonePicker" 
                                Background="Transparent"
                                VerticalOptions="Center" 
                                TextColor="Black"
                                FontSize="15"
                                HeightRequest="40"
                                GridLayout.Column="1"
                                VerticalTextAlignment="Center"
                                SelectedIndex="0"
                                HorizontalOptions="FillAndExpand"/>
                    </Grid>

                    <Grid Padding="0,8,20,0"
                          HeightRequest="40"
                          VerticalOptions="Start">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="60"/>
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <Image IsVisible="{OnPlatform Android=false, iOS=true,macOS=true}" Source="" HeightRequest="20" WidthRequest="20" Margin="10,0,0,0" HorizontalOptions="Start" VerticalOptions="Center" />
                        <Label IsVisible="{OnPlatform Android=true, iOS=false,macOS=false}" FontFamily="SchedulerIcons" Text="&#xe702;" TextColor="Black" FontSize="20"  HeightRequest="20" WidthRequest="20" Margin="10,0,0,0" HorizontalOptions="Start" VerticalOptions="Center" />
                        <Picker x:Name="RrulePicker" TextColor="Black" Background="Transparent" GridLayout.Column="1" FontSize="15" HeightRequest="40" VerticalTextAlignment="Center" SelectedIndex="0" HorizontalOptions="FillAndExpand" VerticalOptions="Start"/>
                    </Grid>

                    <StackLayout HeightRequest="1" Margin="0,8,0,2" BackgroundColor="LightGray"/>

                    <Grid Padding="10,4,20,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="60"/>
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <Frame x:Name="frame"
                               CornerRadius="25"
                               HorizontalOptions="Start" 
                               VerticalOptions="Center"
                               HeightRequest="20" 
                               WidthRequest="20" />
                        <Picker GridLayout.Column="1" TextColor="Black" Background="Transparent" VerticalTextAlignment="Center" Margin="-10,0,0,0" SelectedIndex="0" HorizontalOptions="FillAndExpand" VerticalOptions="FillAndExpand" FontSize="15"  x:Name="ColorPicker"/>
                    </Grid>

                    <StackLayout HeightRequest="1" GridLayout.Column="1" Margin="0,4,0,2" BackgroundColor="LightGray"/>

                    <Grid
                        Padding="0,4,20,0"
                        HeightRequest="40"
                        HorizontalOptions="FillAndExpand"
                        VerticalOptions="Start">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="60"/>
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <Image IsVisible="{OnPlatform Android=false, iOS=true,macOS=true}" Source="" HeightRequest="20" WidthRequest="20" HorizontalOptions="Start" Margin="10,0,0,0" VerticalOptions="Center"/>
                        <Label IsVisible="{OnPlatform Android=true, iOS=false,macOS=false}" FontFamily="SchedulerIcons" Text="&#xe705;" TextColor="Black" FontSize="20" HeightRequest="20" WidthRequest="20" HorizontalOptions="Start" Margin="10,0,0,0" VerticalOptions="Center" />
                        <Entry x:Name="DescriptionText"
                               Background="Transparent"
                               VerticalTextAlignment="Center"
                               HeightRequest="40"
                               GridLayout.Column="1"
                               FontSize="15" HorizontalOptions="FillAndExpand"
                               TextColor="Black" />
                    </Grid>
                </StackLayout>
            </Grid>
        </StackLayout>

        <local:RecurrenceEditingOptionView
                x:Name="RecurrenceEditingOptionView"
                IsVisible="False" />
    </Grid>

    <StackLayout.Behaviors>
        <local:AppointmentEditorBehavior />
    </StackLayout.Behaviors>
</StackLayout>